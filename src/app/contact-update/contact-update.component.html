<div class="row">
    <h1 class="col-12 text-primary">Add a new contact</h1>
    <form class="col-6" [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label>Firstname </label>
            <input 
                [ngClass]="{
                    'is-invalid': (
                        contactForm.controls['firstName'].hasError('required')
                        ||contactForm.controls['firstName'].hasError('minlength')
                    )
                    && contactForm.controls['firstName'].touched,
                    'is-valid': contactForm.controls['firstName'].valid
                }" 
                class="form-control" type="text" formControlName="firstName" id="firstName">
            <div class="invalid-feedback">Firstname is required. At least 4 caracters.</div>         
        </div>
    
        <div class="form-group">
            <label for="lastName">Lastname </label>  
            <input 
                [ngClass]="{
                    'is-invalid': (
                        contactForm.controls['lastName'].hasError('required')
                        ||contactForm.controls['lastName'].hasError('minlength')
                    )
                    && contactForm.controls['lastName'].touched,
                    'is-valid': contactForm.controls['lastName'].valid
                }" 
                class="form-control" type="text" formControlName="lastName" id="lastName">
            <div class="invalid-feedback">Lastname is required. At least 4 caracters.</div>  
        </div> 

        <div class="form-group">
            <label for="telephone">Telephone </label>
            <input 
                [ngClass]="{
                    'is-invalid': (
                        contactForm.controls['telephone'].hasError('required')
                        ||contactForm.controls['telephone'].hasError('minlength')
                        ||contactForm.controls['telephone'].hasError('maxlength')
                        ||contactForm.controls['telephone'].hasError('pattern')
                    )
                    && contactForm.controls['telephone'].touched,
                    'is-valid': contactForm.controls['telephone'].valid
                }" 
                class="form-control" type="text" formControlName="telephone" id="telephone">
            <div class="invalid-feedback">Telephone is required (exactly 10 digits). </div>  
        </div>
    
        <div class="form-group">
            <div formGroupName="address">
                <h3 class="text-primary">Address</h3>
                
                <div class="form-group">
                    <label for="street">Street </label>
                    <input 
                    [ngClass]="{
                        'is-invalid': (
                            contactForm.controls['address'].controls['street'].hasError('required')
                            ||contactForm.controls['address'].controls['street'].hasError('minlength')
                        )
                        && contactForm.controls['address'].controls['street'].touched,
                        'is-valid': contactForm.controls['address'].controls['street'].valid
                    }"     
                    class="form-control" type="text" id="street" formControlName="street">
                    <div class="invalid-feedback">Street is required. At least 5 caracters.</div>  
                </div>
            
                <div class="form-group">
                    <label for="zip">Zip </label>
                    <input 
                    [ngClass]="{
                        'is-invalid': (
                            contactForm.controls['address'].controls['zip'].hasError('required')
                            ||contactForm.controls['address'].controls['zip'].hasError('minlength')
                            ||contactForm.controls['address'].controls['zip'].hasError('maxlength')
                            ||contactForm.controls['address'].controls['zip'].hasError('pattern')
                        )
                        && contactForm.controls['address'].controls['zip'].touched,
                        'is-valid': contactForm.controls['address'].controls['zip'].valid
                    }"     
                    class="form-control" type="text" id="zip" formControlName="zip">
                    <div class="invalid-feedback">Zip is required (exactly 5 digits).</div>  
                </div>

                <div class="form-group">
                        <label for="city">City </label>
                        <input 
                        [ngClass]="{
                            'is-invalid': (
                                contactForm.controls['address'].controls['city'].hasError('required')
                                ||contactForm.controls['address'].controls['city'].hasError('minlength')
                                ||contactForm.controls['address'].controls['city'].hasError('maxlength')
                            )
                            && contactForm.controls['address'].controls['city'].touched,
                            'is-valid': contactForm.controls['address'].controls['city'].valid
                        }"     
                        class="form-control" type="text" id="city" formControlName="city">
                        <div class="invalid-feedback">City is required. At least 5 caracters.</div>  
                    </div>
            </div>
        </div>
    
        <button class="mt-3 btn btn-primary" type="submit" [disabled]="!contactForm.valid">Update</button>
    </form>
</div>